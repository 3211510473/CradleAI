剩余issue：按照优先级

server

如何转发请求到服务器





circle-explore


.开启朋友圈互动的角色，他们的朋友圈互动行为会向api发送请求，所以需要避免两个角色同时或者在短间隔时间内，发送api请求，避免引发api速率限制，

.explore页面应允许用户自己发布朋友圈，允许发布图片或者文字，用户发布的朋友圈和角色发布的朋友圈一样，都会引起哪些已经开启朋友圈互动功能的角色回复，点赞。





cradle


**核心需求：角色创作助手 - 通过对话修改角色数据**

**功能概述：**

用户可通过与LLM对话，修改角色卡片对应的角色数据，并拥有预览和确认机制。

**详细需求：**

1.  **触发修改：**
    *   角色卡片增加“对话修改”按钮，点击打开对应角色的聊天窗口。

2.  **LLM交互：**
    *   LLM根据预设提示词（明确任务、目标、输出格式），基于上下文与用户对话，生成更新后的角色 JSON 数据（格式与 `character-generator-service` 保持一致）。

3.  **数据更新流程：**
    *   用户点击聊天窗口的“应用修改”按钮，触发以下流程：
        *   正则清洗LLM输出的 JSON 数据。
        *   通过`index.ts`调用 NodeST 的 `updateCharacter` 方法更新角色数据。
        *   *数据先不真正保存，仅为用户提供预览*

4.  **预览与确认/撤销：**
    *   用户在确认更新前，可以查看更新后的角色人设/试聊。
    *   提供“确认更新”和“撤销更改”按钮，分别用于：
        *   **确认更新：**将修改固化到数据库，角色人设真正修改
        *   **撤销更改：**放弃本次修改。

5.  **界面设计：**
    *   为聊天窗口设计优雅便捷的打开方式和交互界面。

6.  **上下文管理：**
    *   聊天窗口具备上下文记忆功能。
    *   提供清除记忆重置对话的选项。

7.  **提示词工程：**
    *   编写合适的提示词，引导LLM完成角色数据修改任务，确保输出格式正确。

**技术要点：**

*   前端界面交互设计
*   LLM提示词编写与优化
*   数据清洗与校验
*   API调用（与 `character-generator-service` 保持一致）
*   状态管理（预览/确认/撤销）

**目标用户：**


不擅长角色设定的用户，可以通过对话方式轻松创作和修改角色。


-投喂功能将简化为对个人记忆的投喂

.预置调制后的v3/v4的画师串，放在摇篮角色创建页面

.为摇篮页面增加重新生图功能

 图片隐写




character
.角色卡页面全局世界观更新

.酒馆聊天记录的导入




----生图服务的secret key